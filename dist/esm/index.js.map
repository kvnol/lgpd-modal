{"version":3,"file":"index.js","sources":["../../src/js/modules/template.js","../../src/js/index.js"],"sourcesContent":["const template = (acceptPolicy, url) => `\n  <div class=\"modal-lgpd ${acceptPolicy ? '' : '-show'}\">\n    <div class=\"bg\"></div>\n    <div class=\"dialog\">\n      <h4 class=\"title\">Configuração de Cookies:</h4>\n      <p class=\"description\">Usamos cookies para lhe oferecer uma experiência de navegação melhor, analisar o tráfego do site e personalizar o conteúdo. Para saber mais sobre cookies acesse nossa <a href=\"${url}\" target=\"_blank\" title=\"Acesse a página com informações de privacidade\">Política de Privacidade</a>. Para aceitar, clique no botão \"aceitar cookies\".</p>\n\n      <div class=\"actions\">\n        <button\n          class=\"button -filled\"\n          data-cookies=\"accept\"\n        >\n          <span>Aceitar cookies</span>\n        </button>\n      </div>\n    </div>\n  </div>\n`;\n\nexport default template;\n","import template from './modules/template';\n\nconst defaults = {\n  acceptPolicy: window.localStorage.getItem('acceptPolicy'),\n  url: '/politica-de-privacidade/',\n};\n\nconst includeScripts = (scripts) => {\n  if (defaults.acceptPolicy) {\n    scripts.forEach((script) => {\n      document.head.insertAdjacentHTML('beforeend', script);\n    });\n  }\n};\n\nconst onAccept = (scripts) => {\n  const $modal = document.querySelector('.modal-lgpd');\n  const $button = document.querySelector('[data-cookies=\"accept\"]');\n\n  $button?.addEventListener('click', () => {\n    window.localStorage.setItem('acceptPolicy', true);\n\n    $modal?.classList.remove('-show');\n\n    if (scripts) {\n      includeScripts(scripts);\n    }\n  });\n};\n\nconst initModal = (options) => {\n  const $root = document.body;\n\n  const $dialog = template(defaults.acceptPolicy, options?.url);\n\n  if (!defaults.acceptPolicy) {\n    $root.insertAdjacentHTML('beforeend', $dialog);\n    onAccept(options?.scripts);\n  }\n};\n\nconst LGPDModal = (options) => {\n  initModal(options);\n};\n\n/* eslint-disable import/prefer-default-export */\nexport { LGPDModal };\n"],"names":[],"mappings":"AAAA,MAAM,QAAQ,GAAG,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;AACzC,yBAAyB,EAAE,YAAY,GAAG,EAAE,GAAG,OAAO,CAAC;AACvD;AACA;AACA;AACA,6MAA6M,EAAE,GAAG,CAAC;AACnN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;ACfD,MAAM,QAAQ,GAAG;AACjB,EAAE,YAAY,EAAE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC;AAC3D,EAAE,GAAG,EAAE,2BAA2B;AAClC,CAAC,CAAC;AACF;AACA,MAAM,cAAc,GAAG,CAAC,OAAO,KAAK;AACpC,EAAE,IAAI,QAAQ,CAAC,YAAY,EAAE;AAC7B,IAAI,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;AAChC,MAAM,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;AAC5D,KAAK,CAAC,CAAC;AACP,GAAG;AACH,CAAC,CAAC;AACF;AACA,MAAM,QAAQ,GAAG,CAAC,OAAO,KAAK;AAC9B,EAAE,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;AACvD,EAAE,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;AACpE;AACA,EAAE,OAAO,EAAE,gBAAgB,CAAC,OAAO,EAAE,MAAM;AAC3C,IAAI,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;AACtD;AACA,IAAI,MAAM,EAAE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACtC;AACA,IAAI,IAAI,OAAO,EAAE;AACjB,MAAM,cAAc,CAAC,OAAO,CAAC,CAAC;AAC9B,KAAK;AACL,GAAG,CAAC,CAAC;AACL,CAAC,CAAC;AACF;AACA,MAAM,SAAS,GAAG,CAAC,OAAO,KAAK;AAC/B,EAAE,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC9B;AACA,EAAE,MAAM,OAAO,GAAG,QAAQ,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;AAChE;AACA,EAAE,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;AAC9B,IAAI,KAAK,CAAC,kBAAkB,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;AACnD,IAAI,QAAQ,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAC/B,GAAG;AACH,CAAC,CAAC;AACF;AACK,MAAC,SAAS,GAAG,CAAC,OAAO,KAAK;AAC/B,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;AACrB;;;;"}