{"version":3,"file":"lgpdmodal.min.js","sources":["../src/js/modules/template.js","../src/js/index.js"],"sourcesContent":["const template = (acceptPolicy, url) => `\n  <div class=\"modal-lgpd ${acceptPolicy ? '' : '-show'}\">\n    <div class=\"bg\"></div>\n    <div class=\"dialog\">\n      <h4 class=\"title\">Configuração de Cookies:</h4>\n      <p class=\"description\">Usamos cookies para lhe oferecer uma experiência de navegação melhor, analisar o tráfego do site e personalizar o conteúdo. Para saber mais sobre cookies acesse nossa <a href=\"${url}\" target=\"_blank\" title=\"Acesse a página com informações de privacidade\">Política de Privacidade</a>. Para aceitar, clique no botão \"aceitar cookies\".</p>\n\n      <div class=\"actions\">\n        <button\n          class=\"button\"\n          data-cookies=\"accept\"\n        >\n          <span>Aceitar cookies</span>\n        </button>\n      </div>\n    </div>\n  </div>\n`;\n\nexport default template;\n","import template from './modules/template';\n\nconst defaults = {\n  acceptPolicy: window.localStorage.getItem('acceptPolicy'),\n  url: '/politica-de-privacidade/',\n};\n\nconst includeScripts = (scripts) => {\n  if (defaults.acceptPolicy) {\n    scripts.forEach((script) => {\n      document.head.insertAdjacentHTML('beforeend', script);\n    });\n  }\n};\n\nconst onAccept = (scripts) => {\n  const $modal = document.querySelector('.modal-lgpd');\n  const $button = document.querySelector('[data-cookies=\"accept\"]');\n\n  $button?.addEventListener('click', () => {\n    window.localStorage.setItem('acceptPolicy', true);\n\n    $modal?.classList.remove('-show');\n\n    if (scripts) {\n      includeScripts(scripts);\n    }\n  });\n};\n\nconst initModal = (options) => {\n  const $root = document.body;\n\n  const $dialog = template(defaults.acceptPolicy, options?.url);\n\n  if (!defaults.acceptPolicy) {\n    $root.insertAdjacentHTML('beforeend', $dialog);\n    onAccept(options?.scripts);\n  }\n};\n\nconst LGPDModal = (options) => {\n  initModal(options);\n};\n\n/* eslint-disable import/prefer-default-export */\nexport { LGPDModal };\n"],"names":["defaults","acceptPolicy","window","localStorage","getItem","url","onAccept","scripts","$modal","document","querySelector","$button","addEventListener","setItem","classList","remove","forEach","script","head","insertAdjacentHTML","includeScripts","options","$root","body","$dialog","initModal"],"mappings":"iPAAA,ICEMA,EAAW,CACfC,aAAcC,OAAOC,aAAaC,QAAQ,gBAC1CC,IAAK,6BAWDC,EAAW,SAACC,OACVC,EAASC,SAASC,cAAc,eAChCC,EAAUF,SAASC,cAAc,2BAEvCC,MAAAA,GAAAA,EAASC,iBAAiB,SAAS,WACjCV,OAAOC,aAAaU,QAAQ,gBAAgB,GAE5CL,MAAAA,GAAAA,EAAQM,UAAUC,OAAO,SAErBR,GAjBe,SAACA,GAClBP,EAASC,cACXM,EAAQS,SAAQ,SAACC,GACfR,SAASS,KAAKC,mBAAmB,YAAaF,MAe9CG,CAAeb,mBAgBH,SAACc,IAXD,SAACA,OD9BDpB,EAAcI,EC+BxBiB,EAAQb,SAASc,KAEjBC,GDjCUvB,ECiCSD,EAASC,aDjCJI,ECiCkBgB,MAAAA,SAAAA,EAAShB,yCDhChCJ,EAAe,GAAK,iVAIgKI,wXC8BxML,EAASC,eACZqB,EAAMH,mBAAmB,YAAaK,GACtClB,EAASe,MAAAA,SAAAA,EAASd,UAKpBkB,CAAUJ"}